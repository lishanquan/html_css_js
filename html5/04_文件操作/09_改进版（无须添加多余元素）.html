<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title></title>
  <!--
    上面这个例子需要额外创建一个文本链接，然后点击该文本链接才会实现下载文件的功能。
    如果我们不希望创建多余的元素，而是直接点击按钮就能实现下载，此时又该怎么实现呢？
  -->
  </style>
  <script>
    window.onload = function() {
      var oTxt = document.getElementById("txt");
      var oBtn = document.getElementById("btn");
      var oDiv = document.getElementById("container");
      oBtn.onclick = function() {
        var text = oTxt.value;
        var blob = new Blob([text], {type: "text/plain"});
        oDiv.innerHTML = '<a download href="' + window.URL.createObjectURL(blob) + '" target="_blank">下载文件</a>';
      };
    }
  </script>
</head>
<body>
  <textarea id="txt" cols="30" rows="10"></textarea><br />
  <input id="btn" type="button" value="创建链接" />
  <div id="container"></div>
</body>
</html>
