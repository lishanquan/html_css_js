<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title></title>
  <!--
    读取TXT文本（readAsText()方法）
  -->
  <script>
    window.onload = function() {
      var oFile = document.getElementById("file");
      oFile.onchange = function() {
        var file = oFile.files[0];
        var reader = new FileReader();
        reader.readAsText(file, "gbk");
        // 对于下面这段代码，一旦开始读取文件，无论成功或失败，实例的result属性（即this.result）都会被填充。
        // 如果读取成功，则this.result的值就是当前文件的内容；如果读取失败，则this.result的值为null。
        reader.onload = function() {
          console.log(this.result);
        }
      };
    }
  </script>
</head>
<body>
  <input type="file" id="file" />
</body>
</html>
